<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>🔥 ft_transcendance</title>
  <link href="./dist/output.css" rel="stylesheet" />
  <style>
    @keyframes slide {
      0% {
        background-position: 0 0;
      }

      100% {
        background-position: -150px 150px;
      }
    }
  </style>
</head>
<body
  class="text-black font-[arial] text-[18px] bg-[yellow] bg-[length:150px_150px] bg-[position:0_0] bg-repeat animate-[slide_2s_linear_infinite] [background-image:url('/snakepong.png')]">

  <!-- Launch Modal -->
  <div
    class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 inline-flex flex-col items-center px-4 sm:px-8 md:px-16 lg:px-20 py-6 border-[10px] border-black rounded-xl bg-white shadow-[10px_10px_0_rgba(0,0,0,0.2)]">

    <p class="text-lg mb-6 mt-0">🔥 Choose your game</p>
    <div class="flex gap-6 justify-between w-full">
      <button id="snakeButton"
        class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
        Snake 🐍
      </button>
      <button id="pongButton"
        class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
        Pong 🏓
      </button>
    </div>
  </div>

  <div class="h-[100vh]"></div>


  <!-- cards -->
  <div class="flex flex-wrap justify-center gap-8 mt-29">
    <!-- Card 1 -->
    <div
      class="w-[350px] p-4 border-[10px] border-black rounded-xl bg-white shadow-[10px_10px_0_rgba(0,0,0,0.2)] text-center">
      <img src="wes.jpeg" alt="Dev 1" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-black" />
      <h3 class="text-xl font-bold mb-2">Wesley Koh</h3>
      <h4 class="text-xl font-bold mb-2">backend developer</h3>

        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          GitHub
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          42 prOfile
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          Linkedin
        </a>
    </div>

    <!-- Card 2 -->
    <div
      class="w-[350px] p-4 border-[10px] border-black rounded-xl bg-white shadow-[10px_10px_0_rgba(0,0,0,0.2)] text-center">
      <img src="jack.jpeg" alt="Dev 2" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-black" />
      <h3 class="text-xl font-bold mb-2">Jack Sng</h3>
      <h4 class="text-xl font-bold mb-2">backend developer</h3>

        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          GitHub
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          42 prOfile
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          Linkedin
        </a>
    </div>

    <!-- Card 3 -->
    <div
      class="w-[350px] p-4 border-[10px] border-black rounded-xl bg-white shadow-[10px_10px_0_rgba(0,0,0,0.2)] text-center">
      <img src="daryl.jpeg" alt="Dev 3" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-black" />
      <h3 class="text-xl font-bold mb-2">Daryl Ong</h3>
      <h4 class="text-xl font-bold mb-2">Game developer</h3>

        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          GitHub
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          42 prOfile
        </a>
        <a href="https://github.com/negakyzer/" target="_blank" class="block text-blue-600 hover:underline">
          Linkedin
        </a>
    </div>

    <!-- Card 4 -->
    <div
      class="w-[350px] p-4 border-[10px] border-black rounded-xl bg-white shadow-[10px_10px_0_rgba(0,0,0,0.2)] text-center">
      <img src="eugene.jpeg" alt="Dev 4" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-black" />
      <h3 class="text-xl font-bold mb-2">Eugene</h3>
      <a href="https://github.com/dev4" target="_blank" class="inline-block text-blue-600 hover:underline">
        🐙 GitHub
      </a>
    </div>
  </div>



  <!-- Pong Modal -->
  <div id="pongModal" class="hidden fixed inset-0 w-full h-full bg-black bg-opacity-80 z-[1000] overflow-y-auto">
    <div
      class="relative bg-white mx-auto my-auto p-5 b w-[90%] max-w-[900px] text-center top-1/2 transform -translate-y-1/2 border-[10px] border-black rounded-xl shadow-[10px_10px_0_rgba(0,0,0,0.2)]">
      <button id="closePongModal"
        class="absolute top-[10px] right-[20px] text-[30px] bg-none border-none cursor-pointer hover:text-red-600">&times;</button>

      <h2 class="text-xl mb-8">PONG GAME 🏓</h2>

      <!-- Game Mode Selection Buttons -->
      <div id="gameModeSelection" class="flex justify-center items-center gap-4 flex-wrap ">
        <button id="tournamentBtn"
          class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
          🏟 Tournament
        </button>

        <button id="singlePlayerBtn"
          class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
          🎮 Single Player
        </button>

        <button id="twoVsTwoBtn"
          class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
          🕹 2 vs 2
        </button>
      </div>

      <div id="singlePlayerStepper" class="hidden">
        <button id="backToModes"
          class="absolute top-[10px] left-[20px] text-[20px] bg-none border-none cursor-pointer hover:text-red-600 font-bold">← Back
        </button>
        <div class="relative m-0 flex w-full justify-between overflow-hidden p-0 mb-8">
          <!-- Step 1 -->
          <div class="w-[4.5rem] flex-auto">
            <div
              class="flex items-center ps-6 after:ms-2 after:h-px after:w-full after:flex-1 after:bg-neutral-200 after:content-['']">
              <span id="step1Icon"
                class="my-6 me-2 flex h-[1.938rem] w-[1.938rem] items-center justify-center rounded-full text-sm bg-yellow-500 text-black font-bold border-black border-[]">
                1
              </span>
              <span class="font-semibold">Register</span>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="w-[4.5rem] flex-auto">
            <div
              class="flex items-center pe-6 before:me-2 before:h-px before:w-full before:flex-1 before:bg-neutral-200 before:content-['']">
              <span id="step2Icon"
                class="my-6 me-2 flex h-[1.938rem] w-[1.938rem] items-center justify-center rounded-full text-sm bg-gray-300 text-gray-600 font-bold">
                2
              </span>
              <span class="font-semibold text-gray-400">Start Game</span>
            </div>
          </div>
        </div>
        <!-- Step 1 Content -->
        <div id="step1Content" class="w-full p-4">
          <h3 class="text-lg font-bold mb-4">Enter Your Name</h3>
          <input id="playerNameInput" type="text" class="border-2 border-gray-300 rounded px-4 py-2 mb-4"
            placeholder="Enter your name" maxlength="20">
          <br>
            <button id="registerBtn" class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0 disabled:bg-gray-300 disabled:hover:shadow-none disabled:hover:transform-none disabled:cursor-not-allowed disabled:border-white disabled:text-white" disabled> 
            Register Player
          </button>
        </div>
        <!-- Step 2 Content (Hidden Initially) -->
        <div id="step2Content" class="hidden w-full p-4">
          <h1 class="text-5xl font-bold mb-4">Welcome, <span id="welcomePlayerName" class="font-bold text-blue-600"></span>!</p>
          <h3 class="text-lg font-bold mb-4">Are you ready?</h3>
          <button id="startGameBtn" class="bg-white border-[5px] border-black rounded-xl px-14 py-1 transition-all duration-200 shadow-none hover:shadow-[0.4rem_0.4rem_0_black] hover:-translate-x-1.5 hover:-translate-y-1.5 active:shadow-none active:translate-x-0 active:translate-y-0">
            🎮 Start Single Player Game
          </button>
        </div>
      </div>

      <!-- Canvas (hidden initially, can be shown when a game mode is selected) -->
      <canvas id="gameCanvas" class="w-full h-full mt-6 hidden"></canvas>
    </div>
  </div>

  <!-- Snake Modal -->
  <div id="snakeModal" class="hidden fixed inset-0 w-full h-full bg-black bg-opacity-80 z-[1000] overflow-y-auto">
    <div class="flex items-center justify-center min-h-full p-4">
      <div
        class="relative bg-white p-5 border-[3px] border-black rounded w-[90%] max-w-[900px] text-center max-h-[90vh] overflow-auto">
        <button id="closeSnakeModal"
          class="absolute top-[10px] right-[20px] text-[30px] bg-none border-none cursor-pointer hover:text-red-600 z-10">&times;</button>
        <h2 class="text-xl mb-4">SNAKE GAME 🐍</h2>
        <div class="overflow-hidden">
          <canvas id="snakeCanvas" width="600" height="600" class="w-full h-auto max-w-full mx-auto"></canvas>
        </div>
      </div>
    </div>
  </div>



  <script src="./dist/modal.js"></script>
  <script>
    const playerNameInput = document.getElementById('playerNameInput');
    const registerBtn = document.getElementById('registerBtn');
    const step1Content = document.getElementById('step1Content');
    const step2Content = document.getElementById('step2Content');
    const step1Icon = document.getElementById('step1Icon');
    const step2Icon = document.getElementById('step2Icon');
    const welcomePlayerName = document.getElementById('welcomePlayerName');
    const startGameBtn = document.getElementById('startGameBtn'); 
    const gameCanvas = document.getElementById('gameCanvas'); 

    document.getElementById('singlePlayerBtn').addEventListener('click', function () {
      console.log('single player clicked!');
      document.getElementById('gameModeSelection').classList.add('hidden');
      document.getElementById('singlePlayerStepper').classList.remove('hidden');
    });

    document.getElementById('backToModes').addEventListener('click', function () {
      console.log('back clicked!');
      document.getElementById('singlePlayerStepper').classList.add('hidden');
      document.getElementById('gameModeSelection').classList.remove('hidden');
    });

    playerNameInput.addEventListener('input', function(){
      const name = this.value.trim();
      registerBtn.disabled = name.length === 0;
    });

    registerBtn.addEventListener('click', function(){
      const playerName = playerNameInput.value.trim();
      console.log('Registering player: ', playerName);
      if(playerName)
      {
        step1Icon.classList.remove('bg-yellow-500', 'text-black');
        step1Icon.classList.add('bg-green-500', 'text-white');
        step1Icon.innerHTML = '✓';

        step2Icon.classList.remove('bg-gray-300', 'text-gray-600');
        step2Icon.classList.add('bg-yellow-500', 'text-black');
        step2Icon.parentElement.querySelector('span:last-child').classList.remove('text-gray-400');

        step1Content.classList.add('hidden');
        step2Content.classList.remove('hidden');

        welcomePlayerName.textContent = playerName;
      }
    });

    startGameBtn.addEventListener('click', function(){
      console.log('starting game for: ', welcomePlayerName.textContent);
      document.getElementById('singlePlayerStepper').classList.add('hidden');
      gameCanvas.classList.remove('hidden');
    });
  </script>
  <!-- <script src="./dist/stepper.js"></script> -->
</body>
</html>